(this["webpackJsonpsimple-store-app"]=this["webpackJsonpsimple-store-app"]||[]).push([[0],{19:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkARQCAzM0Y/z3AAAB7ElEQVRIx6XUS0hUYRjG8Z9TebciiQqtwCIIiq6YtYiSwEULLwnmLghEQciwTWEUFOEmIipo1yrCRZCrLgi5iTbhBV1EaY6QC1MKw8uYRS1samzm2Dg+q+99n/N/zvne7+OwTKXFrPc67bANxg1q1+5HjLdKlZO2yTfqtUd6/w3Id0+1VzqMyLRPpUlndP52q9wV0q5XRKETjmjT6Mvf/K3eeWN/zBuzXDerHrSa0Sw9xj2oy1tbomWOHs9lx22v2qzj6k0oifNydOiOMjcMWJtwQpd9ElGR0Fsn7BqsN+1UwIjThT0NPIBaU/JpEF5wFgvVpDTQC/moLk27IU2BD+WY9jPQvaMgZJcewZpaBKfH7pACw1LVkMKQGbkpB6w2EzJoe8oBRQZC+hSnHFCsnwoTMlLCM31VTrZxZ1MKqDMmEy75kMI3ZAq7OL/MM+zmkgNuGZYXLY6ZU7kkvMqco7GN8yLKksbLROKvf4uI6qTwGhEtiYxG3zT8Fz/nuwvBO5vRugic5qqImsXyS014YGVCL91DnxeOLpEOGPVEVlw/1zMj9iQzpCLvdVqzoLdJl36bk8Fho259Cv7UO4W9DPjxBijXC0N2gEPGPJ6/9UtRhjbjSpSbdltoqTiscN+kOc2pwFFdUbscPAn9AtNZd0fZE1OXAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTAxLTIwVDAyOjAzOjUxKzAwOjAwar599QAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wMS0yMFQwMjowMzo1MSswMDowMBvjxUkAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},20:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAjcAAAI3AGf6F88AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAPlQTFRF/////wAA/1VVv0BAzGYz32BA41VVzGZN0V1G3VVE1VVH21VJ01lO1lxH2FhO21tJ21dJ2ldL1lxN11pL11lM2FlK1lpI2FxL2FpK11pL2FlK1ltJ1lpL11lK1llK11pL11lK1llL1lpK11tJ2FpL1lpK1ltJ11pL2FpJ11lL11pK11pK1lpK1lpL1llL11pK11pK11tK2FpL11pK2FpL11pK11pK2FlK1lpL11tK1lpK11pK11lK11pK11pL11pK11pK11pL2FpK11lK11pJ11pK11pK11pK11pK11pK11pL11pK11pK11pK11pK11pK11pK11pK11pKufAZywAAAFJ0Uk5TAAEDBAUICQoLDxIVFxkaHCMpMjM5SEpOT1JWV1hZZGZnanGBgoOEhYiMjY6Qlp2frLS1uby+wMLDxcnK0NHU1djb4uTl5unt8fLz9fb4+/z9/vuD+GoAAADtSURBVBgZlcELW8FgGAbgx6GUjZpEpCTpiHRwSFGig1bS8/9/TLNr48P2XnXf+Bs9fVI724/CoeUvasdpHa5gccyJ99IKLOvnJifGxSBs8SZdtxFAf6CrGYcl0OLMDSJPnGkFABSo2i1RVQC0IVUvX1QNNeQoyqFCUQVdiroYUDRAh6IO6hTVUaaoDIMiA2hQ0ACQpSALINymr3YYllifPvox2BImPZkJODIjehhlMJUyueRjG4rkGxe8bmGO8cw5vU0s2Hik4l7Dkugdp67X4GH1io5qCJ5Cl7Qdwdcpye8DCA5/Pncg2kvin34Be7PLuUSO45UAAAAASUVORK5CYII="},22:function(e,t,n){e.exports=n(37)},27:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setFilms",(function(){return E}));var a={};n.r(a),n.d(a,"setFilter",(function(){return O}));var i={};n.r(i),n.d(i,"addToCart",(function(){return F})),n.d(i,"removeFromCart",(function(){return y})),n.d(i,"changeCartNumber",(function(){return C}));var c={};n.r(c),n.d(c,"addToFavorites",(function(){return N})),n.d(c,"removeFromFavorites",(function(){return R}));var l=n(0),o=n.n(l),s=n(11),u=n.n(s),m=(n(27),n(3)),p=n(1),A=n(5),f=n(6),d=n(8),b=n(7),v=n(9),h=n(2),E=function(e){return{type:"SET_FILM",payload:e}},O=function(e,t){return{type:"SET_FILTER",payload:{filter:e,filteredItems:t}}},F=(n(32),n(33),function(e,t){return{type:"ADD_TO_CART",payload:Object(p.a)({},e,{number:t})}}),y=function(e){return{type:"REMOVE_FROM_CART",payload:e}},C=function(e,t){return{type:"CHANGE_CART_NUMBER",payload:{id:e,number:t}}},g=function(e){function t(){return Object(A.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"changeFilmNumber",value:function(e,t){var n=this,r=this.removeFromCart.bind(this),a=document.querySelectorAll(".more-film"),i=document.querySelectorAll(".less-film");a.forEach((function(r){e===r&&n.props.changeCartNumber(t.id,t.number+1)})),i.forEach((function(a){e===a&&t.number>=1&&n.props.changeCartNumber(t.id,t.number-1),e===a&&t.number<1&&r(t.id)}))}},{key:"removeFromCart",value:function(e){this.props.cartItems.some((function(t){return t.id===e}))&&this.props.removeFromCart(e)}},{key:"showCart",value:function(){document.querySelector(".cart").classList.toggle("hidden")}},{key:"hideCart",value:function(){document.querySelector(".cart").classList.add("hidden")}},{key:"render",value:function(){var e=this,t=this.props,n=t.cartItems,r=t.totalPrice,a=t.count;return o.a.createElement("header",null,o.a.createElement("h1",null,"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u0432\u0438\u0434\u0435\u043e\u043f\u043b\u0430\u0441\u0442\u0438\u043d\u043e\u043a"),o.a.createElement("div",{className:"cart-wrapper"},o.a.createElement("button",{onClick:function(){return e.showCart()}},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 (",a,")")),o.a.createElement("div",{className:"cart hidden",onMouseLeave:function(){return e.hideCart()}},o.a.createElement("ul",null,0===n.length&&o.a.createElement("li",null,"\u041f\u043e\u043a\u0430 \u0432 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u043f\u0443\u0441\u0442\u043e :("),n.length>0&&n.map((function(t){return o.a.createElement("li",{key:t.id,onClick:function(n){return e.changeFilmNumber(n.target,t)}},o.a.createElement("span",{className:"cart-titles"},t.title),o.a.createElement("div",{className:"manage-number"},o.a.createElement("button",{className:"change-number less-film"},"-"),o.a.createElement("span",null,t.number),o.a.createElement("button",{className:"change-number more-film"},"+"),o.a.createElement("span",null,t.number*t.price," \u0433\u0440\u043d."),o.a.createElement("button",{onClick:function(n){return e.removeFromCart(t.id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}))),n.length>0&&o.a.createElement("p",{className:"total-price"},"\u0418\u0442\u043e\u0433\u043e: ",r," \u0433\u0440\u043d."),n.length>0&&o.a.createElement("button",{className:"order"},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437")))}}]),t}(l.Component),j=Object(m.b)((function(e){var t=e.cart;return{totalPrice:t.items.reduce((function(e,t){return e+t.price*t.number}),0),count:t.items.length,cartItems:t.items}}),(function(e){return Object(p.a)({},Object(h.b)(i,e))}))(g),N=(n(34),function(e){return{type:"ADD_TO_FAVORITES",payload:e}}),R=function(e){return{type:"REMOVE_FROM_FAVORITES",payload:e}},w=function(e){function t(){var e,n;Object(A.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={activeItem:"all"},n.handleClickFilter=function(e){document.querySelectorAll(".filter-btn").forEach((function(e){return e.classList.remove("active-btn")})),e.classList.add("active-btn");var t=e.name,r=n.props,a=r.setFilter,i=r.films;n.setState({activeItem:{name:t}});a(t,function(e,t){switch(t){case"all":return e;case"before1970":return e.filter((function(e){return e.year<=1970}));case"after1970":return e.filter((function(e){return e.year>1970}));case"favorites":return n.props.favorites;default:return e}}(i,t))},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("section",{className:"filter-wrapper"},o.a.createElement("button",{className:"filter-btn active-btn",name:"all",onClick:function(t){return e.handleClickFilter(t.target)}},"\u0412\u0441\u0435"),o.a.createElement("button",{className:"filter-btn",name:"favorites",onClick:function(t){return e.handleClickFilter(t.target)}},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),o.a.createElement("button",{className:"filter-btn",name:"before1970",onClick:function(t){return e.handleClickFilter(t.target)}},"\u0414\u043e 1970 \u0433\u043e\u0434\u0430"),o.a.createElement("button",{className:"filter-btn",name:"after1970",onClick:function(t){return e.handleClickFilter(t.target)}},"\u041f\u043e\u0441\u043b\u0435 1970 \u0433\u043e\u0434\u0430"))}}]),t}(l.Component),T=Object(m.b)((function(e){var t=e.films,n=e.favorites;return{films:t.items,favorites:n.items}}),(function(e){return{setFilter:function(t,n){return e(O(t,n))}}}))(w),k=(n(35),n(19)),L=n.n(k),K=n(20),I=n.n(K),M=function(e){function t(){var e,n;Object(A.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={prev:0,current:1},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"changePageNext",value:function(){this.setState((function(e){return{prev:e.prev+1,current:e.current+1}}))}},{key:"changePagePrev",value:function(){this.setState((function(e){return{prev:e.prev-1,current:e.current-1}}))}},{key:"addedToCartFilm",value:function(e,t){var n=this.props.items;if(n&&n.some((function(e){return e.id===t}))){var r=n.filter((function(e){return e.id===t}))[0];this.props.changeCartNumber(r.id,r.number+1)}else this.props.addToCart(e,1)}},{key:"addedToFavoritesFilm",value:function(e,t){this.props.favorites&&this.props.favorites.some((function(e){return e.id===t}))?this.props.removeFromFavorites(t):this.props.addToFavorites(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.prev,r=t.current,a=this.props.films,i=10*n,c=10*r,s=a.slice(i,c);return o.a.createElement(l.Fragment,null,o.a.createElement("ul",{className:"films-wrapper"},s.map((function(t){return o.a.createElement("li",{key:t.id,className:"film-card-wrapper"},o.a.createElement("img",{className:"film-img",src:t.image,alt:t.title}),o.a.createElement("p",{className:"film-title"},t.title),o.a.createElement("p",null,t.year," \u0433\u043e\u0434"),o.a.createElement("p",null,t.price," \u0433\u0440\u043d."),o.a.createElement("div",{className:"do-btns-wrapper"},o.a.createElement("button",{id:"film-add-to-cart",onClick:function(){return e.addedToCartFilm(t,t.id)}},"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),!e.props.favorites.some((function(e){return e.id===t.id}))&&o.a.createElement("img",{className:"favorites-btn",onClick:function(){return e.addedToFavoritesFilm(t,t.id)},src:L.a,alt:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),e.props.favorites.some((function(e){return e.id===t.id}))&&o.a.createElement("img",{className:"favorites-btn",onClick:function(){return e.addedToFavoritesFilm(t,t.id)},src:I.a,alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e"})))}))),o.a.createElement("div",{className:"pages-wrapper"},0!==n&&o.a.createElement("button",{className:"prev",onClick:function(){return e.changePagePrev()}},"<"),0===n&&o.a.createElement("button",{className:"prev hidden"},"<"),o.a.createElement("p",{className:"current"},r),c<a.length&&o.a.createElement("button",{className:"next",onClick:function(){return e.changePageNext()}},">"),c>=a.length&&o.a.createElement("button",{className:"next hidden"},">")))}}]),t}(l.Component),S=Object(m.b)((function(e){var t=e.cart,n=e.favorites;return{items:t.items,favorites:n.items}}),(function(e){return Object(p.a)({},Object(h.b)(i,e),{},Object(h.b)(c,e))}))(M),V=(n(36),function(){return o.a.createElement("footer",null,o.a.createElement("p",{className:"footer-text"},"\xa9 2019 by Anna Fedosova"))}),U=function(e){function t(){var e,n;Object(A.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={films:null,isReady:n.props.isReady,setFilms:n.props.setFilms},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.setFilms;fetch("./films.json").then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this.props,t=e.films,n=e.isReady,r=e.filteredItems,a=e.setFilter;return o.a.createElement(l.Fragment,null,o.a.createElement(j,null),o.a.createElement("div",{className:"all-content-wrapper"},o.a.createElement(T,{setFilter:a,films:t}),o.a.createElement("div",{className:"content-wrapper"},!n&&o.a.createElement("p",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),n&&r&&o.a.createElement(S,{films:r}),n&&!r&&o.a.createElement(S,{films:t}))),o.a.createElement(V,null))}}]),t}(l.Component),B=Object(m.b)((function(e){var t=e.films,n=e.favorites;return{films:t.items,favorites:n.items,isReady:t.isReady,filteredItems:t.filterBy.filteredItems}}),(function(e){return Object(p.a)({},Object(h.b)(r,e),{},Object(h.b)(a,e))}))(U),G=n(21),Z=n.n(G),D={isReady:!1,items:null,filterBy:{filter:"all",filteredItems:null}},Q=n(12),J={items:[]},x={items:[]},P=Object(h.c)({films:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILM":return Object(p.a)({},e,{items:t.payload,isReady:!0});case"SET_FILTER":return Object(p.a)({},e,{filterBy:t.payload});case"SET_IS_READY":return Object(p.a)({},e,{isReady:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return Object(p.a)({},e,{items:[].concat(Object(Q.a)(e.items),[t.payload])});case"REMOVE_FROM_CART":return Object(p.a)({},e,{items:e.items.filter((function(e){return e.id!==t.payload}))});case"CHANGE_CART_NUMBER":return Object(p.a)({},e,{items:e.items.map((function(e){return e.id!==t.payload.id?e:(e.number=t.payload.number,e)}))});default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAVORITES":return Object(p.a)({},e,{items:[].concat(Object(Q.a)(e.items),[t.payload])});case"REMOVE_FROM_FAVORITES":return Object(p.a)({},e,{items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}}});u.a.render(o.a.createElement(m.a,{store:Object(h.d)(P,Object(h.a)(Z.a))},o.a.createElement(B,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d1d4b632.chunk.js.map